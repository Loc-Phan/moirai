<section class="section-box mt-20">
  <div class="container">
    <h3 class="color-gray-900 text-center">
      Checkout
    </h3>
    <form [formGroup]="billingForm" (ngSubmit)="onSubmit()">
      <div class="mt-50 flex gap-10">
        <div class="w-2/3">
          <h4>Billing details</h4>
          <div class="mt-6">
            <div class="flex gap-6 mb-6">
              <div class="w-1/2">
                <p class="mb-2 text-black1 font-medium">First Name<span class="text-[red] ml-2">(*)</span></p>
                <input type="text" formControlName="firstName"
                  class="w-full h-10 border rounded-lg border-gray1 px-3 py-2"
                  [ngClass]="{ 'is-invalid': hasSubmitted && f['firstName'].errors }" />
                <div *ngIf="hasSubmitted && f['firstName'].errors" class="invalid-feedback">
                  <div *ngIf="f['firstName'].errors['required']">First name is required</div>
                </div>
              </div>
              <div class="w-1/2">
                <p class="mb-2 text-black1 font-medium">Last Name<span class="text-[red] ml-2">(*)</span></p>
                <input type="text" formControlName="lastName"
                  class="w-full h-10 border rounded-lg border-gray1 px-4 py-3"
                  [ngClass]="{ 'is-invalid': hasSubmitted && f['lastName'].errors }" />
                <div *ngIf="hasSubmitted && f['lastName'].errors" class="invalid-feedback">
                  <div *ngIf="f['lastName'].errors['required']">Last name is required</div>
                </div>
              </div>
            </div>
            <div class="mb-6">
              <p class="mb-2 text-black1 font-medium">Company name (optional)</p>
              <input type="text" formControlName="company"
                class="w-full h-10 border rounded-lg border-gray1 px-4 py-3" />
            </div>
            <div class="mb-6">
              <p class="mb-2 text-black1 font-medium">Address<span class="text-[red] ml-2">(*)</span></p>
              <input type="text" formControlName="address" class="w-full h-10 border rounded-lg border-gray1 px-4 py-3"
                [ngClass]="{ 'is-invalid': hasSubmitted && f['address'].errors }" />
              <div *ngIf="hasSubmitted && f['address'].errors" class="invalid-feedback">
                <div *ngIf="f['address'].errors['required']">Address is required</div>
              </div>
            </div>
            <div class="mb-6">
              <p class="mb-2 text-black1 font-medium">Phone number<span class="text-[red] ml-2">(*)</span></p>
              <input type="text" formControlName="phone" class="w-full h-10 border rounded-lg border-gray1 px-4 py-3"
                [ngClass]="{ 'is-invalid': hasSubmitted && f['phone'].errors }" />
              <div *ngIf="hasSubmitted && f['phone'].errors" class="invalid-feedback">
                <div *ngIf="f['phone'].errors['required']">Phone is required</div>
              </div>
            </div>
            <div class="mb-6">
              <p class="mb-2 text-black1 font-medium">Email address<span class="text-[red] ml-2">(*)</span></p>
              <input type="text" formControlName="email" class="w-full h-10 border rounded-lg border-gray1 px-4 py-3"
                [ngClass]="{ 'is-invalid': hasSubmitted && f['email'].errors }" />
              <div *ngIf="hasSubmitted && f['email'].errors" class="invalid-feedback">
                <div *ngIf="f['email'].errors['required']">Email is required</div>
                <div *ngIf="f['email'].errors['email']">
                  Invalid billing email address
                </div>
              </div>
            </div>
            <div class="mb-6">
              <p class="mb-2 text-black1 font-medium">Note</p>
              <input type="text" formControlName="note" class="w-full h-10 border rounded-lg border-gray1 px-4 py-3" />
            </div>
          </div>
        </div>
        <div class="w-1/3 h-fit border border-[rgba(251,203,59,1)] rounded-2xl p-6">
          <h4>Your order</h4>
          <div class="flex justify-between text-base py-4 border-bottom-custom">
            <div class="w-3/4">Product</div>
            <div class="w-1/4">Subtotal</div>
          </div>
          <div *ngFor="let product of productList"
            class="py-3 flex gap-1 justify-between text-base border-b border-[#cccccc]">
            <div class="w-3/4">{{product.title}} x {{product.qty}}</div>
            <div class="w-1/4 text-[rgba(251,203,59,1)]">${{product.newPrice*product.qty}}</div>
          </div>
          <div class="flex justify-between text-base py-4 border-top-custom border-bottom-custom">
            <div class="w-3/4">Total</div>
            <div class="w-1/4 text-[rgba(251,203,59,1)]">${{totalPrice.toFixed(2)}}</div>
          </div>
          <div class="mt-6">
            Your personal data will be used to process your order, support your experience throughout this website, and
            for other
            purposes described in our privacy policy.
          </div>
          <div class="mt-6">
            <button class="btn btn-green-full cursor-pointer" type="submit">
              Place order
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>
